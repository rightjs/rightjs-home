# DOM навигация и манипуляции
<% set_unit_scope('Element') %>

RightJS унаследовал базовые принципы dom-навигации от проектов Prototype и Mootools.
А dom-манипуляции, это смесь идей из Prototype, MooTools и jQuery.


## Базовый поиск элементов, :basic

RightJS предоставляет два стандартных метода для поиска элементов на странице
`$('element-id')` и `$$('css rule')`. Первый из них находит элементы по ID,
а второй собирает список элементов подпадающий под указанное css-правило.

    var element = $('element-id');
    var elements = $$('div > div.foo + div.bar');

RightJS поддерживает все стандартные конструкции CSS3 и использует встроенный движок
браузера для поиска, если таковой имеется.


## Относительная навигация, :subnodes

RightJS так же предоставляет набор методов для навигации относительно отдельно взятого элемента

Метод                  | Описание
-----------------------|-----------------------------------------------------------
{Element#parent}       | родительский элемент
{Element#parents}      | все родительские элементы снизу вверх
{Element#subNodes}     | подэлементы первого уровня
{Element#siblings}     | все соседние элементы
{Element#nextSiblings} | соседние элементы следующие за данным
{Element#prevSiblings} | соседние элементы идущие до данного элемента
{Element#next}         | следующий соседний элемент
{Element#prev}         | предыдущий соседний элемент
{Element#first}        | первый подходящий подэлемент с любого уровня
{Element#select}       | все подходящие подэлементы со всех уровней


Все вышеперечисленные методы могут получать аргумент в виде css-правила. Если таковое
было указано, то результат поиска будет изменен соответствующим способом. Все методы
возвращающие списки элементов, будут иметь эти списки отфильтрованными по указанному
правилу, а методы возвращающие один элемент, будут пропускать элементы до тех пор пока
не встретят подходящий под правило.

    /*
      <div id="top">
        <div id="second-1">
          <div id="third-1"></div>
        </div>
        <div id="second-2"></div>
        <div id="second-3"></div>
        </div>
    */
    $('third-1').parent();       // -> div#second-1
    $('third-1').parent('#top'); // -> div#top
    
    $('top').select('div');      // -> все под элементы с тэгом DIV
    
    $('top').first('div');       // -> div#second-1



## Базовые манипуляции, :manipulations

В целом существует единственный метод, который в зависимости от типа полученных данных,
производит все типы манипуляций на страницах.

`{Element#insert}(mixed content[, String position])`

Контет может быть одинм из следующих

* Строка с HTML кодом
* DOM-элемент
* Список элементов любого типа Array, NodeList, arguments, и т.п.

Аргумент `position` может быть одним из следующих

* top
* bottom
* before
* after
* instead

`bottom` - значение по умолчанию

    $('element').insert('<div>some html code</div>');

    $('element').insert(another_element, 'top');
    
    $('element').insert([element1, element2], 'after');
    
    $('element').insert(anther_element.childNodes, 'before');

Дополнительно вы можете указать хэш элементов для вставки

    $('element').insert({
      top:    element1,
      bottom: [element2, element3],
      after:  element4.childNodes
    });


## Дополнительные методы для DOM манипуляций, :shortcuts

Так же существует несколько удобных сокращений для того чтобы сделать код работы с
элементами более удобным в работе и легко читаемым.

Название           | Описание
-------------------|---------------------------------------------------------
{Element#insertTo} | вставляет данный элемент в указанный
{Element#replace}  | заменяет данный элемент указанным контентом
{Element#update}   | заменяет внутренний контент элемента указанным
{Element#wrap}     | оборачивает данный элемент указанным
{Element#clean}    | удаляет все подэлементы данного элемента
{Element#empty}    | проверяет если элемент не содержит ни текста ни подэлементов

Несколько примеров

    var element = $E('div').insertTo(document.body).update('some html');
    
    element.empty();         // -> false
    element.clean().empty(); // -> true
    
    element.replace('тут был тот элемент');
