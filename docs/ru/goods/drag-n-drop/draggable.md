# Таскаемые объекты

`Draggable` - это базовый класс для таскаемых объектов из библиотеки
[Drag'n'Drop](/goods/drag-n-drop).

Из открытого интерфейса он по сути имеет только конструктор и деструктор.
Конструктор принимает два аргумента, ссылку на элемент и набор опций.
Деструктор - просто метод который отключает возможность таскать элемент.

    var draggable = new Draggable('my-element', {axis: 'x'});

    // после этого элемент не будет больше таскаем
    draggable.destroy();

Вы так же можете использовать стандартную для RightJS возможность авто-инициализации, а
так же короткие методы уровня {Element} для того чтобы делать элементы таскаемыми.
Посетите основную статью по [Drag'n'Drop](/goods/drag-n-drop) для более детальной информации.

<%= anchors_index %>

## Список опций, :options

Существует следующий набор опций которые вы можете использовать с таскаемыми элементами страниц

Название          | Умолчание   | Описание
------------------|-------------|---------------------------------------------------------------------------
handle            | null        | ссылка на элемент который будет инициировать перетаскивание
snap              | 0           | шаг движений, число в пикселях или массив вида \[x,y\]
axis              | null        | направление `null`, `'x'`, `'y'`, `'vertical'`, `'horizontal'`
range             | null        | {x: \[min, max\], y:\[min, max\]} или ссылка на ограничивающий элемент
dragClass         | 'dragging'  | имя css-класса назначаемого на время перетаскивания
clone             | false       | флаг, если необходимо оставить клон элемента на месте
revert            | false       | флаг, если необходимо вернуть элемент назад когда он будет отпущен
revertDuration    | 'normal'    | длительность эффекта возврата элемента в предыдущую позицию
scroll            | true        | флаг, если необходимо автоматически прокручивать окно при перетаскивании
scrollSensitivity | 32          | размер области для автосрабатывания прокрутки
zIndex            | 10000000    | начальный номер z-index'а (инкрементируется во время работы)
moveOut           | false       | флаг, если необходимо выдернуть элемент из его контекста
relName           | 'draggable' | ключ для возможности авто-инициализации


Как обычно, вы можете указывать любые из данных опций с каждым отдельный таскаемым объектом, или
же вы можете изменить переменную `Draggable.Options` и сделать настройки глобальными.

## Список событий, :events

Существует следующий список поддерживаемых событий

Имя    | Описание
-------|---------------------------------------------------------------------------
before | до начала любых вычислений позиций
start  | когда перетаскивание непосредственно начинается
drag   | когда элемент передвигается
stop   | когда пользователь отпустил перетаскиваемый элемент
drop   | когда пользователь бросил элемент в подходящую цель

Все функции обратного вызова, за исключением события `'drop'`, получат два аргумента, объект `Draggable` и
объект изначального события мыши вызвавшее данное событие.

    new Draggable('my-element', {
      onStart: function(draggable, event) {
        notify_my_application_about_drag_start();
      }
    });

Событие `'drop'` случается только тогда когда пользователь отпускает таскаемый элемент над целью для
сборса, и объект цели для сброса принимает бросаемый элемент. Когда это случается, слушатель события
получает _три_ аргумента, объект таскаемого элемента, объект цели, и объект изначального события мыши
вызвавшего данное событие

    new Draggable('my-element', {
      onDrop: function(droppable, draggable, event) {
        notify_my_app();
      }
    });


## Относительно позициированные элементы, :relative

Данная реализация перетаскиваемых объектов, прозрачно работает с элементами находящимися в
относительном пространстве коородинат, например:

    <div style="position: absolute; left: 40em; top: 10em">
      <div rel="draggable" style="left: 0; top:0">
        Drag me around!
      </div>
    </div>

Единственное условие вы _должны_ указать начальную позицию элемента с помощью CSS или `style` атрибута.