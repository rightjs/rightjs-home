<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>RightJS: What&#8217;s New In RightJS UI 2</title>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <link href="http://www.ru.rightjs.org/blog.rss" rel="alternate" title="RightJS News" type="application/rss+xml" />
    <script src="../hotlink/right.js@1331880836" type="text/javascript"></script>
<script src="../javascripts/application.js@1295184937" type="text/javascript"></script>
    <script src="../builds/ui/right-autocompleter.js@1331880836" type="text/javascript"></script>
    <link href="../stylesheets/application.css@1297515667.css" media="screen" rel="stylesheet" type="text/css" />
    
    
    
  </head>
  <body>
    <div id="body">
      <div id="head">
        <a href="../index.html" id="logo">RightJS</a>
        <div id="slogan">JavaScript Framework That Feels Right</div>

        <div id="main-menu">
  <ul>
    <li><a href="../index.html">Home</a></li>
    <li><a href="../download.html">Download</a></li>
    <li><a href="../plugins.html">Plugins</a></li>
    <li><a href="../ui.html">UI</a></li>
    <li><a href="../demos.html">Demos</a></li>
    <li class="current"><a href="../docs.html">Docs</a></li>
    <li><a href="../blog.html">Blog</a></li>
  </ul>
  <div id="zing"><!-- the moving thing --></div>
</div>
        <div id="lang-switch">
    <select onchange="document.location.href=this.value;">
      <option selected="true" value="http://www.rightjs.org/tutorials/what-new-in-rui2">English</option>
      <option value="http://ru.www.rightjs.org/tutorials/what-new-in-rui2">Русский</option>
    </select>
</div>
      </div>
      <div id="main">
        <div id="sidebar">
  <div class="box" id="download-box">
    <h1>Get it!</h1>
    <ul>
      <li><a href="../builds/current/right.js.zip">RightJS v2.3.1</a></li>
    </ul>
  </div>

  <div id="api-search" class="box">
  <input type="text" value="Search API" id="api-search-field" />
  <script type="text/javascript">
  // <![CDATA[
    new Autocompleter($('api-search-field').on({
      focus: function() { this._v = this.value(); this.value(''); },
      blur:  function() { this.value(this._v); }
    }), {
      url: '/docs/search/%{search}.js',
      onDone: function() {
        var current = this.first('.current');
        if (current) {
          document.location.href = current.get('title');
        }
        this.input.setValue(this.input._v);
      }
    });
  // ]]>
  </script>
</div>

  <div class="box">
    <label>Documentation</label>
    <ul>
      <li><a href="getting-started.html">Getting Started</a></li>
      <li><a href="top-features.html">Top 12 Features</a></li>
      <li><a href="../docs.html">API Reference</a></li>
      <li class="current"><a href="../tutorials.1.html">Tutorials</a></li>
    </ul>
  </div>

  <div class="box">
    <label>Additional</label>
    <ul>
      <li><a href="../plugins.html">RightJS Plugins</a></li>
      
      <li><a href="../ui.html">RightJS UI</a></li>
      
      <li><a href="../showcases.html">Showcases</a></li>
    </ul>
  </div>

  <div class="box">
    <label>Community</label>
    <ul>
      <li><a href="http://groups.google.com/group/rightjs">Google Group</a></li>
      <li><a href="http://rightjs.lighthouseapp.com/projects/31989">Tickets Tracker</a></li>
      <li><a href="http://github.com/rightjs/rightjs-snippets">Code Snippets</a></li>
      <li><a href="irc://irc.freenode.net/rightjs">IRC #rightjs</a></li>
      <li><a href="../participate.html">Participate!</a></li>
    </ul>
  </div>

  <div class="box">
    <a href='http://www.pledgie.com/campaigns/14259'><img alt='Donate!' src='http://www.pledgie.com/campaigns/14259.png?skin_name=chrome' border='0' /></a>
  </div>

  <div class="box">
    <ul id="social">
      <li><a href="../blog.rss" id="rss-link">RSS</a></li>
      <li><a href="http://twitter.com/rightjs" id="twitter-link">Twitter</a></li>
      <li><a href="http://github.com/rightjs" id="github-link">GitHub</a></li>
    </ul>
  </div>
</div>

        <div id="info">
          <h1>What&#8217;s New In RightJS UI 2</h1>

<p>As you might already know, RightJS 2 release has some significant changes of the system design and therefore comes as a complete restart of the framework.</p>

<p>RightJS UI 2 is one of the parts of the reboot and here are some notes on what&#8217;s new and interesting.</p>
<a name='elements' ></a><h2 class='chapter'>
  <a href='what-new-in-rui2.html#' class='top-anchor'>top &uarr;</a><a href='what-new-in-rui2.html#elements'>Widgets == Elements</a>
</h2>
<p>One of the biggest change in RightJS 2 is that now it uses dom-wrappers instead of direct dom-elements access. And one of the most interesting part of it is that dom-wrappers in RightJS essentially are classes and you are allowed to create as much of your own types as you pleased.</p>

<p>Because of that, all the widgets in RightJS UI 2 are private wrappers and therefore eventually inherited from the <a href='../docs/element.html' class='api-ref'>Element</a> unit. This means that now you can treat any widget as a normal element of the page</p>

<code><b class="var">var</b> calendar = <b class="var">new</b> <b class="unit">Calendar</b>();<br/><br/>calendar<br/>  .<u class="method">insertTo</u>(<s>'my-element'</s>, <s>'top'</s>)<br/>  .<u class="method">set</u>(<s>'id'</s>, <s>'my-calendar'</s>)<br/>  .<u class="method">addClass</u>(<s>'my-calendar'</s>)<br/>  .<u class="method">onClick</u>(<s>'toggleClass'</s>, <s>'clicked'</s>)<br/>  <i>// .....</i></code>

<p>More of that you can correctly work with the type of the object</p>

<code>calendar <b>instanceof</b> <b class="unit">Calendar</b>; <i>// true</i><br/>calendar <b>instanceof</b> <b class="unit">Element</b>;  <i>// true</i><br/>calendar <b>instanceof</b> <b class="unit">Window</b>;   <i>// false</i></code>

<p>RightJS will also register your object in the system and use it whenever the user accesses it via any standard method</p>

<code>$(<s>'my-calendar'</s>);        <i>// -&gt; calendar</i><br/>$$(<s>'.my-calendar'</s>)[<s class="int">0</s>];   <i>// -&gt; calendar</i><br/>$(<s>'my-element'</s>).<u class="method">first</u>(); <i>// -&gt; calendar</i></code>

<p>You can do with any widget whatever you want.</p>
<a name='events' ></a><h2 class='chapter'>
  <a href='what-new-in-rui2.html#' class='top-anchor'>top &uarr;</a><a href='what-new-in-rui2.html#events'>New Events Handling</a>
</h2>
<p>As all widgets are elements now and all the events bubble up by the tree of document, the events handling in widgets was slightly changed to be consistent with any other dom-element.</p>

<p>Firstly, it means that all the callbacks you attach to any widget will be called in the context of the widget itself, like you normally do with elements</p>

<code><b class="var">var</b> slider = <b class="var">new</b> <b class="unit">Slider</b>();<br/><br/>slider.<u class="method">onChange</u>(<b>function</b>() {<br/>  <b class="var">this</b>.<u class="method">getValue</u>(); <i>// returns the current value</i><br/>});</code>

<p>Secondly, instead of having all sorts of attributes that we were passing into the listeners, now all the related data will be attached to the event object, for example:</p>

<code><b class="var">var</b> slider = <b class="var">new</b> <b class="unit">Slider</b>();<br/><br/>slider.<u class="method">onChange</u>(<b>function</b>(event) {<br/>  event.<u>target</u>; <i>// -&gt; refers back to the slider</i><br/>  event.<u>value</u>;  <i>// -&gt; gives you the value</i><br/>});</code>

<p>Thirdly all the widgets will have their own css class names and as the events propagate through the tree, you&#8217;ll be able to use normal UJS features with the widgets</p>

<code><s>"rui-slider"</s>.<u class="method">onChange</u>(<b>function</b>() {<br/>  <i>// .....</i><br/>});</code>

<p>Basically anything that available with elements will be available with widgets as well.</p>
<a name='initialization' ></a><h2 class='chapter'>
  <a href='what-new-in-rui2.html#' class='top-anchor'>top &uarr;</a><a href='what-new-in-rui2.html#initialization'>Uniformed Initialization</a>
</h2>
<p>In RightJS UI 1 we had all sorts of things how you could automatically initialize the widgets. Some of them were initialized by non-standard <tt>rel</tt> attributes, some by special css classes, some by custom HTML5 attributes.</p>

<p>In RightJS UI 2 the mess was cleaned up and now all the widgets initialize the same way using HTML5 custom attributes that looks like <tt>data-widget-name</tt>. For example:</p>

<code>&lt;input type=<s>"text"</s> data-calendar=<s>"{format: 'US'}"</s> /&gt;<br/>&lt;input type=<s>"text"</s> data-autocompleter=<s>"{url:'/boo'}"</s> /&gt;</code>

<p>You can keep the attributes empty, or with the <tt>'{}'</tt> value, works either way.</p>

<p>The only exception is the <a href='../ui/lightbox.html'>Lightbox</a> widget, since many folks got used to the <tt>rel="lightbox"</tt> attribute you can use it as well as the <tt>data-lightbox</tt> HTML5 attribute.</p>
<a name='styles' ></a><h2 class='chapter'>
  <a href='what-new-in-rui2.html#' class='top-anchor'>top &uarr;</a><a href='what-new-in-rui2.html#styles'>Styles Cleaning Up</a>
</h2>
<p>RightJS UI 1 was quite a spontaneously growing project, and as the result the styles of the widgets were quite messy and pretty much independent. In RightJS 2 we fix the situation.</p>

<p>All the styles were brushed up to make them compacter and easier to change. All the RightJS UI css class-names now have the standard <tt>rui-</tt> prefix instead of the <tt>right-</tt> one (which potentially could cause troubles). And then all the widgets now have consistent class names like <tt>rui-widget-name</tt></p>

<p>And what&#8217;s more important, now we have cross-widget classes like <tt>rui-panel</tt>, <tt>rui-button</tt>, <tt>rui-spinner</tt>, etc. We will use those later on to create visual themes for our widgets, with a skins constructor and so on.</p>

<p>It should be fun.</p>
<a name='fixes' ></a><h2 class='chapter'>
  <a href='what-new-in-rui2.html#' class='top-anchor'>top &uarr;</a><a href='what-new-in-rui2.html#fixes'>Small Fixes</a>
</h2>
<p>There also were quite a few small fixes here and there, some widgets had fixes in their HTML structure, some have the CSS classes changed, some have new options and there were some fixes in the i18n modules as well.</p>

<p>So if you use any of the widgets in more than &#8220;as is&#8221; way, please check their pages in the <a href='../ui.html'>RightJS UI</a> section.</p>
        </div>
        <div style="clear:both"></div>
      </div>
      <div id="foot">
        <div id="contacts">
  <h2>Questions?</h2>
  <a href="&#x6D;&#x61;i&#x6C;&#x74;&#x6F;:&#105;&#110;&#102;&#111;&#064;&#114;&#105;&#103;&#104;&#116;&#106;&#115;&#046;&#111;&#114;&#103;">&#105;&#110;&#102;&#111;&#064;&#114;&#105;&#103;&#104;&#116;&#106;&#115;&#046;&#111;&#114;&#103;</a>
</div>
<div id="bottom-menu">
  <h2>About the Framework</h2>
  <a href="../philosophy.html">Philosophy</a> |
  <a href="../benchmarks.html">Benchmarks</a> |
  <a href="../browsers.html">Browsers</a> |
  <a href="../contacts.html">Contacts</a>
</div>
        <div id="design">Design by <a href="http://activestylus.com">Steven Garcia</a></div>
        <div id="copyright">Copyright &copy; 2008-2011 Nikolay Nemshilov</div>
      </div>
    </div>

    <script src="http://www.google-analytics.com/ga.js" type="text/javascript"></script>
    <script type="text/javascript">
    // <![CDATA[
      try { _gat._getTracker("UA-10292980-1")._trackPageview(); } catch(err) {}
    // ]]>
    </script>
  </body>
</html>